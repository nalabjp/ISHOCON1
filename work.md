- unicornに-E productionを追加
- my.cnf
    - slow_query_log
    - slow_query_log-file = /tmp/mysql-slow.sql
    - long_query_time = 0.2
    - log-queries-not-using-indexes
- index
    - ALTER TABLE comments ADD INDEX index_product_id_on_comments(product_id);
    - ALTER TABLE comments ADD INDEX index_user_id_on_comments(user_id);
    - ALTER TABLE users ADD INDEX index_email_password_on_users(email,password);
    - ALTER TABLE histories ADD INDEX index_user_id_on_historiess(user_id);
- mysql tuning
    - https://github.com/major/MySQLTuner-perl
        - Variables to adjust:
        - query_cache_size (=0)
        - query_cache_type (=0)
        - query_cache_limit (> 1M, or use smaller result sets)
        - tmp_table_size (> 16M)
        - max_heap_table_size (> 16M)
        - thread_cache_size (start at 4)
- nginx
    - unix domain socket
    - cache asset files
- ruby
    - ruby 2.5.0
